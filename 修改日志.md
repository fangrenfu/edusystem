#数据库修改日志
##2016-10-31
新增毕业审核表 graduate

CREATE TABLE [dbo].[GRADUATE](
	[ROWID] [uniqueidentifier] NOT NULL,
	[MAJORPLANID] [uniqueidentifier] NOT NULL,
	[PROGRAMNO] [char](7) NOT NULL,
	[FORM] [char](1) NULL,
	[STUDENTNO] [char](9) NOT NULL,
	[CREDITS] [decimal](8, 1) NULL,
	[MCREDITS] [decimal](8, 1) NULL,
	[GCREDITS] [decimal](8, 1) NULL,
	[COURSENO] [char](7) NULL,
	[MAP] [uniqueidentifier] NULL,
 CONSTRAINT [PK_GRADUATE] PRIMARY KEY CLUSTERED
(
	[ROWID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

ALTER TABLE [dbo].[GRADUATE] ADD  CONSTRAINT [DF_GRADUATE_ROWID]  DEFAULT (newid()) FOR [ROWID]

ALTER TABLE [dbo].[GRADUATE] ADD  CONSTRAINT [DF_GRADUATE_CREDITS]  DEFAULT ((0)) FOR [CREDITS]

ALTER TABLE [dbo].[GRADUATE] ADD  CONSTRAINT [DF_GRADUATE_MCREDITS]  DEFAULT ((0)) FOR [MCREDITS]

ALTER TABLE [dbo].[GRADUATE] ADD  CONSTRAINT [DF_GRADUATE_GCREDITS]  DEFAULT ((0)) FOR [GCREDITS]

新增majprplantype表，存储培养方案类型 主修 辅修等，数据从programtype表取。
CREATE TABLE [dbo].[MAJORPLANTYPE](
	[NAME] [char](1) NOT NULL,
	[VALUE] [char](20) NULL,
 CONSTRAINT [PK_PLANTYPE] PRIMARY KEY CLUSTERED
(
	[NAME] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]


INSERT INTO MAJORPLANTYPE(NAME,VALUE)
SELECT NAME,VALUE FROM PROGRAMTYPE

##2016-10-29
增加CLASSPLAN表，存储班级绑定的教学计划。
`CREATE TABLE [dbo].[CLASSPLAN](
	[MAJORPLANID] [uniqueidentifier] NOT NULL,
	[CLASSNO] [char](7) NOT NULL,
	[DATE] [datetime] NULL,
 CONSTRAINT [PK_CLASSPLAN] PRIMARY KEY CLUSTERED 
(
	[CLASSNO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
ALTER TABLE [dbo].[CLASSPLAN] ADD  CONSTRAINT [DF_CLASSPLAN_DATE]  DEFAULT (getdate()) FOR [DATE]
GO`

##2016-10-28
MAJORPLAN表增加majorschool字段,char(6)
增加module 模块方向 char(50) 过渡替代专业方向字段。
ACTION表设置action字段为唯一

增加PROGRAMFORM教学计划类型表,替换中文表名的教学计划类别代码
`CREATE TABLE [dbo].[PROGRAMFORM](
	[NAME] [char](1) NOT NULL,
	[VALUE] [varchar](20) NULL,
 CONSTRAINT [PK_PROGRAMFORM] PRIMARY KEY CLUSTERED
(
	[NAME] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
`
R30表增加FORM字段 char(1)，存储原中文字段教学计划类别，并将计划类别设置为允许NULL

`UPDATE  R30
set FORM=计划类别
`

PROGRAMS的日期改为日期格式date
##2016-10-21
MAJORS表增加两个字段，direction char(8) 专业方向  majorschool char(6)校内专业号 唯一。
##2016-6-20
增加SELECTIVE表，存储学生选课情况。
`CREATE TABLE [dbo].[SELECTIVE](
	[YEAR] [char](4) NOT NULL,
	[TERM] [char](1) NOT NULL,
	[STUDENTNO] [char](9) NOT NULL,
	[CREDIT] [decimal](8, 1) NULL,
	[AMOUNT] [int] NULL,
	[TERMCREDIT] [decimal](8, 1) NULL,
	[TERMAMOUNT] [int] NULL,
	[PUBLICCREDIT] [decimal](8, 1) NULL,
	[CREATIVECREDIT] [decimal](8, 1) NULL,
 CONSTRAINT [PK_SELECTIVE] PRIMARY KEY CLUSTERED 
(
	[YEAR] ASC,
	[TERM] ASC,
	[STUDENTNO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]`

##2016-6-19
清理R33表中异常数据，课号或者教学计划号不存在的。
##2016-6-17
增加COURSEFORM表，替换coursetypeoptions2表。
##2016-6-11
增加weekday表，用来存储每个星期的星期几

